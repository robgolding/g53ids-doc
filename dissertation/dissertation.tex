\documentclass[a4paper,11pt,twoside,openright,notitlepage]{report}

\usepackage{url}
\usepackage{graphicx}
\usepackage{enumerate}
\usepackage{amsmath}
\usepackage{float}
\usepackage{longtable}
\usepackage{pstricks}
\usepackage{tikz}
\usepackage[absolute]{textpos}
\usepackage{fancyhdr}
\usepackage{emptypage}
\usepackage{setspace}
\usepackage{listings}
\usepackage{color}
\usepackage{xcolor}
\usepackage{caption}
\usepackage[T1]{fontenc}
\usepackage{booktabs}
\usepackage{longtable}
\usepackage[bindingoffset=1cm,margin=3.5cm]{geometry}

\pagestyle{fancy}
\headheight=14pt

\newcommand{\umlDiamond}{%
    \put(0,0){\line(1,1){1}}%
    \put(0,0){\line(1,-1){1}}%
    \put(2,0){\line(-1,1){1}}%
    \put(2,0){\line(-1,-1){1}}%
}

\newcommand{\umlDatabase}{%
    \put(0,4){\qbezier(0,0)(2,1)(4,0)}%
    \put(0,4){\qbezier(0,0)(2,-1)(4,0)}%
    \put(0,0){\line(0,1){4}}%
    \put(4,0){\line(0,1){4}}%
    \put(0,0){\qbezier(0,0)(2,-1)(4,0)}%
}

\newcommand{\umlDatabaseLbl}[1]{%
    \put(0,4){\qbezier(0,0)(2,1)(4,0)}%
    \put(0,4){\qbezier(0,0)(2,-1)(4,0)}%
    \put(0,0){\line(0,1){4}}%
    \put(4,0){\line(0,1){4}}%
    \put(0,0){\qbezier(0,0)(2,-1)(4,0)}%
    \put(0,0){\makebox(4,3){#1}}%
}

\newcommand{\umlRaidDisk}{
    \put(0,2){\qbezier(0,0)(1,0.5)(2,0)}%
    \put(0,2){\qbezier(0,0)(1,-0.5)(2,0)}%
    \put(0,0){\line(0,2){2}}%
    \put(2,0){\line(0,2){2}}%
    \put(0,0){\qbezier(0,0)(1,-0.5)(2,0)}%
}

\newcommand{\umlRaid}{%
    \put(0,0){\framebox(6,6)}%
    \put(0.66,0.5){\umlRaidDisk}%
    \put(3.33,0.5){\umlRaidDisk}%
    \put(0.66,3.4){\umlRaidDisk}%
    \put(3.33,3.4){\umlRaidDisk}%
    \put(0,6){\makebox(6,1.5){RAID Array}}
}

\definecolor{codebg}{rgb}{0.98,0.98,0.98}
\definecolor{codeborder}{rgb}{0.9,0.9,0.9}
\definecolor{codestring}{rgb}{0.2,0.6,0.2}

\graphicspath{{./images/}}

\DeclareCaptionFont{black}{\color{black}}
\DeclareCaptionFont{gray}{\color{gray}}
\DeclareCaptionFormat{listing}{
        \parbox{\textwidth}{\hspace{-2pt}#1#2#3\vspace{8pt}}
}
\captionsetup[lstlisting]{
    format=listing,
    labelfont=black,
    textfont=gray,
    singlelinecheck=false,
    margin=0pt,
    font={bf,footnotesize}
}

\title{G53IDS Individual Dissertation Single Honours}
\author{Robert J. Golding (rjg08u)} \date{\today}

\setlength{\parskip}{1.3ex plus 0.2ex minus 0.2ex}
\setlength{\parindent}{0pt}

\begin{document}
    \begin{titlepage}
        \input{title}
    \end{titlepage}

    \lstset{
        language=Python,
        tabsize=4,
        basicstyle=\footnotesize\ttfamily,
        numbers=left,
        numberstyle=\tiny,
        backgroundcolor=\color{codebg},
        fillcolor=\color{codebg},
        rulesepcolor=\color{codebg},
        framexleftmargin=2in,
        framexrightmargin=2in,
        framextopmargin=0.2cm,
        framexbottommargin=0.2cm,
        columns=fixed,
        extendedchars=true,
        numbersep=10pt,
        keywordstyle=\color{red},
        rulecolor=\color{codeborder},
        frame=lines,
        showspaces=false,
        showstringspaces=false,
        showtabs=false,
        breaklines=true,
        stringstyle=\color{codestring}\ttfamily,
        commentstyle=\color{gray},
    }

    \doublespacing

    \include{abstract}

    \tableofcontents

    \listoffigures

    \listoftables

    \include{glossary}
    \include{introduction}
    \include{research}
    \include{specification}
    \include{design}
    \include{implementation}
    \include{testing} % and evaluation
    \include{summary} % and further work
    %\include{evaluation}
    %\include{further}

    \newpage
    \nocite{*}
    \bibliographystyle{plain}
    \bibliography{references}

    \appendix
    \include{appendix}

\end{document}
